# 学籍管理系统

一个基于Flask的现代化学籍管理系统，支持学生、教师和管理员三种角色的完整功能。

## 🎉 最新更新（2025-06-06）

- ✅ **完成管理员控制面板中的课程管理功能**
- ✅ **完成管理员成绩管理和审核功能**
- ✅ **修复了学生选课/退课功能逻辑**
- ✅ **数据库从SQLite迁移至MySQL，提升性能与稳定性**
- ✅ **优化了管理员控制面板布局，删除专业管理，优化注册申请位置**
- 🔧 所有核心功能现已正常运行

## 功能特点

### 学生功能

- 📚 选课系统：查看课程、在线选课、退课
- 📊 成绩查询：查看个人课程成绩和GPA
- 💳 学费管理：账户充值、在线缴费、缴费记录查询
- 👤 个人信息：查看和管理个人基本信息
- 📝 注册申请：提交注册申请并查看审核状态

### 教师功能

- 👥 学生管理：查看选课学生名单
- ✏️ 成绩管理：录入和修改学生成绩，实时计算GPA
- 📋 课程统计：查看成绩分布、通过率等统计信息
- 📤 课程申请：申请开设新课程并跟踪审核状态

### 管理员功能

- 🧑‍🎓 学生管理：添加、修改、删除学生信息
- 👨‍🏫 教师管理：管理教师信息和账户状态
- 📚 课程管理：创建课程、开设课程、管理课程库
- 📊 成绩审核：审核教师提交的成绩
- 📝 注册审批：审核学生和教师的注册申请
- 🔍 课程申请审批：审核教师的开课申请

## 技术栈

- **后端**：Flask (Python 3.7+)
- **数据库**：MySQL 8.0+
- **ORM框架**：Flask-SQLAlchemy
- **前端**：HTML5 + CSS3 + JavaScript
- **UI框架**：Bootstrap风格的自定义CSS
- **安全组件**：Werkzeug (密码加密)、Flask会话管理
- **数据库驱动**：PyMySQL + cryptography
- **特性**：响应式设计、AJAX异步操作、模态框交互

## 快速开始

### 环境准备

1. 安装Python 3.7+
2. 安装并配置MySQL 8.0+
3. 创建名为 `education_system`的数据库

### 命令行启动

1. 安装依赖

   ```bash
   pip install -r requirements.txt
   ```
2. 配置数据库连接（根据需要修改education_system/__init__.py中的配置）

   ```python
   app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql+pymysql://username:password@localhost/education_system'
   ```
3. 初始化数据库

   ```bash
   python init_db.py
   ```
4. 启动服务器

   ```bash
   python app_mysql.py
   ```
5. 访问 http://127.0.0.1:5000

## 测试账户

系统预设了以下测试账户：

### 管理员账户

- **用户名**：admin001
- **密码**：admin123
- **功能**：完整的系统管理权限

### 教师账户

- **账户1**：T20250001 / teacher123 (李教授)
- **账户2**：T20250002 / teacher123 (王副教授)
- **功能**：课程管理、成绩录入

### 学生账户

- **账户1**：S20230001 / student123 (张三)
- **账户2**：S20230002 / student123 (李四)
- **功能**：选课、查看成绩

## 新功能亮点

### 教师成绩管理系统

- 🎯 **智能成绩计算**：平时成绩30% + 期末成绩70% = 总评成绩
- 📈 **实时GPA计算**：自动计算4.0制绩点
- 🏷️ **成绩等级标识**：颜色编码的成绩等级显示
- 💾 **批量保存功能**：一键保存所有学生成绩
- 📊 **统计分析**：成绩分布、通过率统计
- 📤 **数据导出**：支持成绩单导出

### 用户界面增强

- 🎨 **现代化设计**：Bootstrap风格的响应式界面
- 📱 **移动端适配**：完美支持手机和平板访问
- ⚡ **流畅交互**：AJAX异步操作，无页面刷新
- 🔔 **智能提醒**：操作反馈和状态提示

## 数据库结构

系统使用MySQL数据库，包含以下数据表：

- `roles` - 用户角色表，定义不同用户类型的权限
- `users` - 用户账户信息，存储登录凭证和基本信息
- `students` - 学生详细信息，包含学生个人资料
- `teachers` - 教师详细信息，存储教师职称和所属学院
- `majors` - 专业信息表，管理学院和专业信息
- `classes` - 班级信息表，管理班级和班主任信息
- `courses` - 课程基本信息，存储课程代码、名称和学分
- `offered_courses` - 开课信息，记录哪些教师在教授哪些课程
- `course_selections` - 选课记录，记录学生选课情况
- `grades` - 成绩信息，存储学生在各课程的成绩和GPA
- `tuitions` - 学费信息，记录学费状态和缴费截止日期
- `payments` - 支付记录，记录学费缴纳明细
- `registration_applications` - 注册申请表，处理新用户注册
- `application_reviews` - 申请审核记录，记录管理员对申请的处理
- `course_applications` - 课程申请表，教师申请开设新课程

## 开发环境

- Python 3.7+
- Flask 2.3.3
- Flask-SQLAlchemy 3.0.5
- MySQL 8.0+
- PyMySQL 1.1.0
- Werkzeug 2.3.7
- cryptography 41.0.7

## 系统特色

1. **角色权限分离**：不同用户角色具有不同的功能权限
2. **数据完整性**：完善的数据关联和约束
3. **用户体验**：直观的界面设计和流畅的操作体验
4. **扩展性强**：模块化设计，易于功能扩展
5. **安全性**：密码加密存储，会话管理
6. **性能优化**：MySQL数据库支持，提高并发性能

## 注意事项

- 首次运行会自动初始化数据库和测试数据
- 默认密码均为演示用途，生产环境请修改
- 建议在Chrome、Firefox等现代浏览器中使用
- 请确保MySQL服务已正确启动并配置
- 若遇到数据库连接问题，请检查配置文件中的用户名和密码
